# =============================================================================
# MomWatch AI - Environment Configuration Template
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace all <PLACEHOLDER> values with your actual configuration
# 3. NEVER commit the .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# MongoDB Configuration
# -----------------------------------------------------------------------------
# MongoDB connection URI - MongoDB Atlas connection string
MONGO_URI=mongodb+srv://rajuchaswik_db_user:Raju%402006@cluster0.rlwhpf9.mongodb.net/prescripto?appName=Cluster0

# Database name for the application
MONGO_DB_NAME=prescripto

# Connection pool size limits
MONGO_MAX_POOL_SIZE=50
MONGO_MIN_POOL_SIZE=10

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# JWT secret key - MUST be at least 32 characters
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=n9FQxY3rA8MZsW2eJt0KpL4C7BHVU5dR


# JWT algorithm and expiration
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440

# -----------------------------------------------------------------------------
# API Server Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# CORS allowed origins (JSON array format)
CORS_ORIGINS=["http://localhost:8501","http://frontend:8501"]

# -----------------------------------------------------------------------------
# Machine Learning Model Configuration
# -----------------------------------------------------------------------------
# Path to trained RandomForest model
MODEL_PATH=/app/models/maternal_rf_model.joblib

# Path to feature scaler
SCALER_PATH=/app/models/feature_scaler.joblib

# Minimum confidence threshold for ML predictions
MODEL_CONFIDENCE_THRESHOLD=0.75

# -----------------------------------------------------------------------------
# Circuit Breaker Settings
# -----------------------------------------------------------------------------
# Number of failures before circuit opens
CIRCUIT_FAILURE_THRESHOLD=5

# Cooldown period before attempting recovery (seconds)
CIRCUIT_TIMEOUT_SECONDS=60

# Number of successful attempts to close circuit from half-open state
CIRCUIT_HALF_OPEN_ATTEMPTS=3

# -----------------------------------------------------------------------------
# Idempotency Configuration
# -----------------------------------------------------------------------------
# Time-to-live for idempotency keys (minutes)
IDEMPOTENCY_TTL_MINUTES=10

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE_PATH=/app/logs/momwatch.log

# -----------------------------------------------------------------------------
# Backend API URL (for frontend)
# -----------------------------------------------------------------------------
BACKEND_API_URL=http://backend:8000
