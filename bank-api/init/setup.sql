CREATE TABLE accounts (
    id SERIAL PRIMARY KEY,
    account_number VARCHAR(20) UNIQUE NOT NULL,
    ifsc_code VARCHAR(11) NOT NULL,
    balance DECIMAL(15, 2) DEFAULT 0.00
);

CREATE TABLE transactions (
    id SERIAL PRIMARY KEY,
    sender_account VARCHAR(20),
    receiver_account VARCHAR(20),
    amount DECIMAL(15, 2),
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ==================== DEMO DATA ====================
-- Create demo user with balance
INSERT INTO accounts (account_number, ifsc_code, balance) 
VALUES ('1234567890', 'VAULT001', 45000.00);

-- Income transactions (deposits) - freelancer income pattern
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('EXTERNAL_DEPOSIT', '1234567890', 15000.00, '2025-07-05 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 22000.00, '2025-07-18 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 18500.00, '2025-08-03 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 12000.00, '2025-08-20 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 25000.00, '2025-09-08 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 16500.00, '2025-09-22 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 19000.00, '2025-10-10 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 14000.00, '2025-10-25 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 21000.00, '2025-11-07 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 17500.00, '2025-11-21 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 23000.00, '2025-12-05 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 15500.00, '2025-12-19 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 20000.00, '2026-01-03 10:00:00'),
('EXTERNAL_DEPOSIT', '1234567890', 18000.00, '2026-01-08 10:00:00');

-- Expense transactions - BALANCED for ~₹38,000 total
-- Daily expenses (Coffee, Snacks, Transport) - ₹100-200 range
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('1234567890', 'CASH_WITHDRAWAL', 120.00, '2025-09-02 08:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 150.00, '2025-09-15 09:15:00'),
('1234567890', 'CASH_WITHDRAWAL', 180.00, '2025-10-05 08:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 135.00, '2025-10-18 09:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 165.00, '2025-11-02 08:45:00'),
('1234567890', 'CASH_WITHDRAWAL', 140.00, '2025-11-20 09:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 175.00, '2025-12-08 08:15:00'),
('1234567890', 'CASH_WITHDRAWAL', 155.00, '2025-12-22 09:45:00'),
('1234567890', 'CASH_WITHDRAWAL', 125.00, '2026-01-03 08:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 190.00, '2026-01-07 09:00:00');

-- Daily expenses (Lunch, Dinner, Fuel) - ₹200-500 range
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('1234567890', 'CASH_WITHDRAWAL', 350.00, '2025-09-08 13:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 420.00, '2025-09-25 19:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 280.00, '2025-10-12 13:15:00'),
('1234567890', 'CASH_WITHDRAWAL', 465.00, '2025-10-28 20:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 315.00, '2025-11-10 13:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 395.00, '2025-11-25 19:45:00'),
('1234567890', 'CASH_WITHDRAWAL', 260.00, '2025-12-05 13:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 340.00, '2025-12-18 20:15:00'),
('1234567890', 'CASH_WITHDRAWAL', 380.00, '2026-01-02 13:45:00'),
('1234567890', 'CASH_WITHDRAWAL', 295.00, '2026-01-06 19:30:00');

-- Irregular expenses (Restaurant, Entertainment, Medicine) - ₹500-1500 range
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('1234567890', 'CASH_WITHDRAWAL', 850.00, '2025-09-20 20:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 1200.00, '2025-10-15 15:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 650.00, '2025-11-08 21:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 980.00, '2025-11-28 16:15:00'),
('1234567890', 'CASH_WITHDRAWAL', 720.00, '2025-12-12 20:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 1100.00, '2025-12-26 14:45:00'),
('1234567890', 'CASH_WITHDRAWAL', 890.00, '2026-01-04 21:15:00');

-- Irregular expenses (Grocery Shopping, Clothing) - ₹1500-2500 range
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('1234567890', 'CASH_WITHDRAWAL', 1800.00, '2025-09-28 11:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 2200.00, '2025-10-22 14:30:00'),
('1234567890', 'CASH_WITHDRAWAL', 1650.00, '2025-11-15 11:15:00'),
('1234567890', 'CASH_WITHDRAWAL', 2400.00, '2025-12-08 15:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 1950.00, '2026-01-05 11:30:00');

-- Regular expenses (Electricity, Internet, Mobile) - ₹1500-2000 range
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('1234567890', 'CASH_WITHDRAWAL', 1500.00, '2025-10-05 10:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 1800.00, '2025-11-05 10:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 1600.00, '2025-12-05 10:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 1700.00, '2026-01-05 10:00:00');

-- Regular expenses (Rent) - ₹5000/month (only recent months)
INSERT INTO transactions (sender_account, receiver_account, amount, timestamp) VALUES
('1234567890', 'CASH_WITHDRAWAL', 5000.00, '2025-11-01 09:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 5000.00, '2025-12-01 09:00:00'),
('1234567890', 'CASH_WITHDRAWAL', 5000.00, '2026-01-01 09:00:00');
